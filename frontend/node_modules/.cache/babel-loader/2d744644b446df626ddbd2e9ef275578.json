{"ast":null,"code":"import _slicedToArray from\"E:/Hoc Tap/Do an CNTT/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import{useEffect}from'react';import{Breadcrumbs,TableFooter}from'@material-ui/core';import{Link}from'react-router-dom';import useBreadcrumbs,{routeConfig}from\"../../../hooks/useBreadcrumbs\";import{MdKeyboardArrowRight}from'react-icons/md';import{useDispatch,useSelector}from'react-redux';import{fetchCourses}from'../../../store/actions/courses.action';import ErrorTable from'./errorTable';import EmptyTable from'./emptyTable';import LoadingTable from'./loadingTable';import CourseRow from'./courseRow';import{useState}from'react';import FilterBar from'./filter';var CourseList=function CourseList(){var initialFilter={tenmh:'',sotinchi:'',bomon:'',phanloai:''};var dispatch=useDispatch();var breadcrumbs=useBreadcrumbs(routeConfig);var courseList=useSelector(function(state){return state.courses;});var _useState=useState(initialFilter),_useState2=_slicedToArray(_useState,2),filter=_useState2[0],setFilter=_useState2[1];var filteredCourseList=!courseList.data?[]:courseList.data.filter(function(course){return course.tenmh.toLowerCase().includes(filter.tenmh.toLowerCase())&&course.bomon.includes(filter.bomon)&&course.phanloai.includes(filter.phanloai)&&course.sotinchi.toString().includes(filter.sotinchi);});useEffect(function(){if(!courseList.data)dispatch(fetchCourses());},[dispatch,courseList.data]);var refresh=function refresh(){if(!courseList.loading)dispatch(fetchCourses());};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Breadcrumbs,{separator:/*#__PURE__*/_jsx(MdKeyboardArrowRight,{size:\"1.2em\"}),className:\"page-breadcrumb\",children:breadcrumbs.map(function(breadcrumb){return/*#__PURE__*/_jsx(Link,{to:breadcrumb.path,children:breadcrumb.name});})}),/*#__PURE__*/_jsx(\"h3\",{className:\"page-title\",children:\"Danh s\\xE1ch c\\xE1c m\\xF4n h\\u1ECDc\"}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsxs(TableContainer,{className:\"p-2\",component:Paper,children:[/*#__PURE__*/_jsx(FilterBar,{filter:filter,setFilter:setFilter,initialFilter:initialFilter,refresh:refresh}),/*#__PURE__*/_jsxs(Table,{className:\"border-top\",style:{minWidth:\"920px\"},children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{width:\"150px\",children:\"M\\xE3 m\\xF4n h\\u1ECDc\"}),/*#__PURE__*/_jsx(TableCell,{children:\"T\\xEAn m\\xF4n h\\u1ECDc\"}),/*#__PURE__*/_jsx(TableCell,{width:\"120px\",align:\"center\",children:\"S\\u1ED1 t\\xEDn ch\\u1EC9\"}),/*#__PURE__*/_jsx(TableCell,{width:\"190px\",children:\"B\\u1ED9 m\\xF4n\"}),/*#__PURE__*/_jsx(TableCell,{width:\"120px\",children:\"Ph\\xE2n lo\\u1EA1i\"}),/*#__PURE__*/_jsx(TableCell,{width:\"155px\",align:\"center\",children:\"Xem chi ti\\u1EBFt / X\\xF3a\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:courseList.loading?/*#__PURE__*/_jsx(LoadingTable,{}):courseList.error?/*#__PURE__*/_jsx(ErrorTable,{refresh:refresh}):filteredCourseList.length!==0?filteredCourseList.map(function(row){return/*#__PURE__*/_jsx(CourseRow,{row:row});}):/*#__PURE__*/_jsx(EmptyTable,{})}),/*#__PURE__*/_jsx(TableFooter,{children:\"asd\"})]})]})]});};export default CourseList;","map":{"version":3,"sources":["E:/Hoc Tap/Do an CNTT/frontend/src/components/AdminApp/CourseList/index.js"],"names":["Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useEffect","Breadcrumbs","TableFooter","Link","useBreadcrumbs","routeConfig","MdKeyboardArrowRight","useDispatch","useSelector","fetchCourses","ErrorTable","EmptyTable","LoadingTable","CourseRow","useState","FilterBar","CourseList","initialFilter","tenmh","sotinchi","bomon","phanloai","dispatch","breadcrumbs","courseList","state","courses","filter","setFilter","filteredCourseList","data","course","toLowerCase","includes","toString","refresh","loading","map","breadcrumb","path","name","minWidth","error","length","row"],"mappings":"8PAAA,MAAOA,CAAAA,KAAP,KAAkB,yBAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kCAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,mBAAzC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,cAAP,EAAyBC,WAAzB,KAA4C,+BAA5C,CACA,OAASC,oBAAT,KAAqC,gBAArC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,YAAT,KAA6B,uCAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,UAAtB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAMC,CAAAA,aAAa,CAAG,CAClBC,KAAK,CAAE,EADW,CAElBC,QAAQ,CAAE,EAFQ,CAGlBC,KAAK,CAAE,EAHW,CAIlBC,QAAQ,CAAE,EAJQ,CAAtB,CAOA,GAAMC,CAAAA,QAAQ,CAAGf,WAAW,EAA5B,CACA,GAAMgB,CAAAA,WAAW,CAAGnB,cAAc,CAACC,WAAD,CAAlC,CACA,GAAMmB,CAAAA,UAAU,CAAGhB,WAAW,CAAC,SAAAiB,KAAK,QAAIA,CAAAA,KAAK,CAACC,OAAV,EAAN,CAA9B,CAVqB,cAWOZ,QAAQ,CAACG,aAAD,CAXf,wCAWdU,MAXc,eAWNC,SAXM,eAYrB,GAAMC,CAAAA,kBAAkB,CAAG,CAACL,UAAU,CAACM,IAAZ,CACrB,EADqB,CAErBN,UAAU,CAACM,IAAX,CAAgBH,MAAhB,CAAuB,SAAAI,MAAM,QAC3BA,CAAAA,MAAM,CAACb,KAAP,CAAac,WAAb,GAA2BC,QAA3B,CAAoCN,MAAM,CAACT,KAAP,CAAac,WAAb,EAApC,GACAD,MAAM,CAACX,KAAP,CAAaa,QAAb,CAAsBN,MAAM,CAACP,KAA7B,CADA,EAEAW,MAAM,CAACV,QAAP,CAAgBY,QAAhB,CAAyBN,MAAM,CAACN,QAAhC,CAFA,EAGAU,MAAM,CAACZ,QAAP,CAAgBe,QAAhB,GAA2BD,QAA3B,CAAoCN,MAAM,CAACR,QAA3C,CAJ2B,EAA7B,CAFN,CASAnB,SAAS,CAAC,UAAM,CACZ,GAAI,CAACwB,UAAU,CAACM,IAAhB,CACIR,QAAQ,CAACb,YAAY,EAAb,CAAR,CACP,CAHQ,CAGN,CAACa,QAAD,CAAWE,UAAU,CAACM,IAAtB,CAHM,CAAT,CAKA,GAAMK,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAClB,GAAI,CAACX,UAAU,CAACY,OAAhB,CACId,QAAQ,CAACb,YAAY,EAAb,CAAR,CACP,CAHD,CAKA,mBACI,wCACI,oCACI,KAAC,WAAD,EAAa,SAAS,cAAE,KAAC,oBAAD,EAAsB,IAAI,CAAC,OAA3B,EAAxB,CAA+D,SAAS,CAAC,iBAAzE,UACKc,WAAW,CAACc,GAAZ,CAAgB,SAAAC,UAAU,qBACvB,KAAC,IAAD,EAAM,EAAE,CAAEA,UAAU,CAACC,IAArB,UACKD,UAAU,CAACE,IADhB,EADuB,EAA1B,CADL,EADJ,cAQI,WAAI,SAAS,CAAC,YAAd,iDARJ,cAWI,aAXJ,GADJ,cAcI,MAAC,cAAD,EAAgB,SAAS,CAAC,KAA1B,CAAgC,SAAS,CAAEzC,KAA3C,wBACI,KAAC,SAAD,EACI,MAAM,CAAE4B,MADZ,CAEI,SAAS,CAAEC,SAFf,CAGI,aAAa,CAAEX,aAHnB,CAII,OAAO,CAAEkB,OAJb,EADJ,cAOI,MAAC,KAAD,EAAO,SAAS,CAAC,YAAjB,CAA8B,KAAK,CAAE,CAAEM,QAAQ,CAAE,OAAZ,CAArC,wBACI,KAAC,SAAD,wBACI,MAAC,QAAD,yBACI,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,mCADJ,cAEI,KAAC,SAAD,qCAFJ,cAGI,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,CAAyB,KAAK,CAAC,QAA/B,qCAHJ,cAII,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,4BAJJ,cAKI,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,+BALJ,cAMI,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,CAAyB,KAAK,CAAC,QAA/B,wCANJ,GADJ,EADJ,cAWI,KAAC,SAAD,WAEQjB,UAAU,CAACY,OAAX,cACM,KAAC,YAAD,IADN,CAEMZ,UAAU,CAACkB,KAAX,cACI,KAAC,UAAD,EAAY,OAAO,CAAEP,OAArB,EADJ,CAEIN,kBAAkB,CAACc,MAAnB,GAA8B,CAA9B,CACId,kBAAkB,CAACQ,GAAnB,CAAuB,SAAAO,GAAG,qBACxB,KAAC,SAAD,EAAW,GAAG,CAAEA,GAAhB,EADwB,EAA1B,CADJ,cAII,KAAC,UAAD,IAVtB,EAXJ,cAwBI,KAAC,WAAD,kBAxBJ,GAPJ,GAdJ,GADJ,CAqDH,CApFD,CAsFA,cAAe5B,CAAAA,UAAf","sourcesContent":["import Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { useEffect } from 'react';\r\nimport { Breadcrumbs, TableFooter } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport useBreadcrumbs, { routeConfig } from \"../../../hooks/useBreadcrumbs\"\r\nimport { MdKeyboardArrowRight } from 'react-icons/md';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchCourses } from '../../../store/actions/courses.action';\r\nimport ErrorTable from './errorTable';\r\nimport EmptyTable from './emptyTable';\r\nimport LoadingTable from './loadingTable'\r\nimport CourseRow from './courseRow';\r\nimport { useState } from 'react';\r\nimport FilterBar from './filter';\r\n\r\nconst CourseList = () => {\r\n    const initialFilter = {\r\n        tenmh: '',\r\n        sotinchi: '',\r\n        bomon: '',\r\n        phanloai: ''\r\n    }\r\n\r\n    const dispatch = useDispatch()\r\n    const breadcrumbs = useBreadcrumbs(routeConfig)\r\n    const courseList = useSelector(state => state.courses)\r\n    const [filter, setFilter] = useState(initialFilter)\r\n    const filteredCourseList = !courseList.data\r\n        ? []\r\n        : courseList.data.filter(course => (\r\n            course.tenmh.toLowerCase().includes(filter.tenmh.toLowerCase()) &&\r\n            course.bomon.includes(filter.bomon) &&\r\n            course.phanloai.includes(filter.phanloai) &&\r\n            course.sotinchi.toString().includes(filter.sotinchi)\r\n        ))\r\n\r\n    useEffect(() => {\r\n        if (!courseList.data)\r\n            dispatch(fetchCourses())\r\n    }, [dispatch, courseList.data])\r\n\r\n    const refresh = () => {\r\n        if (!courseList.loading)\r\n            dispatch(fetchCourses())\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <Breadcrumbs separator={<MdKeyboardArrowRight size=\"1.2em\" />} className=\"page-breadcrumb\">\r\n                    {breadcrumbs.map(breadcrumb => (\r\n                        <Link to={breadcrumb.path}>\r\n                            {breadcrumb.name}\r\n                        </Link>\r\n                    ))}\r\n                </Breadcrumbs>\r\n                <h3 className=\"page-title\">\r\n                    Danh sách các môn học\r\n                </h3>\r\n                <hr />\r\n            </div>\r\n            <TableContainer className=\"p-2\" component={Paper}>\r\n                <FilterBar\r\n                    filter={filter}\r\n                    setFilter={setFilter}\r\n                    initialFilter={initialFilter}\r\n                    refresh={refresh}\r\n                />\r\n                <Table className=\"border-top\" style={{ minWidth: \"920px\" }}>\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell width=\"150px\">Mã môn học</TableCell>\r\n                            <TableCell>Tên môn học</TableCell>\r\n                            <TableCell width=\"120px\" align=\"center\">Số tín chỉ</TableCell>\r\n                            <TableCell width=\"190px\">Bộ môn</TableCell>\r\n                            <TableCell width=\"120px\">Phân loại</TableCell>\r\n                            <TableCell width=\"155px\" align='center'>Xem chi tiết / Xóa</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {\r\n                            courseList.loading\r\n                                ? <LoadingTable />\r\n                                : courseList.error\r\n                                    ? <ErrorTable refresh={refresh} />\r\n                                    : filteredCourseList.length !== 0\r\n                                        ? filteredCourseList.map(row => (\r\n                                            <CourseRow row={row} />\r\n                                        ))\r\n                                        : <EmptyTable />\r\n                        }\r\n                    </TableBody>\r\n                    <TableFooter>\r\n                        asd\r\n                    </TableFooter>\r\n                </Table>\r\n            </TableContainer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CourseList"]},"metadata":{},"sourceType":"module"}