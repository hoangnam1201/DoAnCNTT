{"ast":null,"code":"import _objectSpread from\"E:/Hoc Tap/Do an CNTT/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:/Hoc Tap/Do an CNTT/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Button,Input,Paper,Snackbar,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Tooltip}from\"@material-ui/core\";import{Alert,AlertTitle}from\"@material-ui/lab\";import{useEffect,useState}from\"react\";import{AiOutlinePlus}from\"react-icons/ai\";import{IoMdRefresh}from\"react-icons/io\";import{useDispatch,useSelector}from\"react-redux\";import{createCourseGoal}from\"../../../services\";import{fetchGoal}from\"../../../store/actions/courseGoal.action\";import{EmptyRow,ErrorRow,LoadingRows}from\"../SituationRow\";var Row=function Row(_ref){var row=_ref.row;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.muctieu}),/*#__PURE__*/_jsx(TableCell,{children:row.mota}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.cdr_ctdt})]});};var CreateForm=function CreateForm(_ref2){var id=_ref2.id,desc=_ref2.desc,setDesc=_ref2.setDesc,outcome=_ref2.outcome,setOutcome=_ref2.setOutcome;return/*#__PURE__*/_jsxs(TableRow,{className:\"font-italic\",children:[/*#__PURE__*/_jsxs(TableCell,{align:\"center\",className:\"font-weight-bold\",children:[/*#__PURE__*/_jsx(AiOutlinePlus,{size:\"25px\"}),\"\\xA0\",id]}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Input,{className:\"bg-light rounded p-2\",rowsMax:6,fullWidth:true,multiline:true,value:desc,onChange:function onChange(e){return setDesc(e.target.value);}})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Input,{className:\"bg-light rounded\",fullWidth:true,value:outcome,onChange:function onChange(e){return setOutcome(e.target.value);}})})]});};var CourseGoal=function CourseGoal(_ref3){var mamh=_ref3.mamh;var initialState={loading:false,response:{status:\"\",message:\"\"}};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),create=_useState2[0],setCreate=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),createID=_useState4[0],setCreateID=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),createDesc=_useState6[0],setCreateDesc=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),createOutcome=_useState8[0],setCreateOutcome=_useState8[1];var _useState9=useState(initialState),_useState10=_slicedToArray(_useState9,2),creating=_useState10[0],setCreating=_useState10[1];var goals=useSelector(function(state){return state.course[mamh].goal;});var dispatch=useDispatch();var fetch=function fetch(){dispatch(fetchGoal(mamh));};var handleToggleCreate=function handleToggleCreate(){setCreateID(\"G\".concat(goals.data.length+1));setCreateDesc('');setCreateOutcome('');setCreate(true);};var handleSubmitCreate=function handleSubmitCreate(){setCreating(_objectSpread(_objectSpread({},creating),{},{loading:true}));createCourseGoal(mamh,{muctieu:createID,mota:createDesc,cdr_ctdt:createOutcome}).then(function(){fetch();setCreate(false);setCreating({loading:false,response:{status:\"success\",message:\"Tạo mục tiêu thành công!\"}});}).catch(function(err){setCreating({loading:false,response:{status:\"error\",message:!err.response?\"Lỗi máy chủ\":err.response.data.error}});});};useEffect(function(){if(!goals.data)dispatch(fetchGoal(mamh));},[dispatch,mamh,goals.data]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Snackbar,{open:creating.response.status,onClose:function onClose(){return setCreating(initialState);},children:/*#__PURE__*/_jsxs(Alert,{onClose:function onClose(){return setCreating(initialState);},severity:creating.response.status,className:\"mx-3 mb-3\",style:{minWidth:\"250px\"},children:[/*#__PURE__*/_jsx(AlertTitle,{className:\"text-capitalize font-weight-bold\",children:creating.response.status}),creating.response.message]})}),/*#__PURE__*/_jsxs(TableContainer,{className:\"p-2\",component:Paper,children:[/*#__PURE__*/_jsxs(\"div\",{style:{minWidth:\"600px\"},className:\"d-flex pl-2 pb-2 align-items-center\",children:[/*#__PURE__*/_jsx(Tooltip,{title:\"T\\u1EA3i l\\u1EA1i\",children:/*#__PURE__*/_jsx(Button,{onClick:fetch,className:\"p-0 mx-2\",children:/*#__PURE__*/_jsx(IoMdRefresh,{size:\"25px\"})})}),!create?/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",className:\"light-blue-bgcolor my-2 font-weight-bold\",onClick:handleToggleCreate,children:\"T\\u1EA1o m\\u1EE5c ti\\xEAu\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",className:\"light-blue-bgcolor my-2 font-weight-bold\",onClick:handleSubmitCreate,children:\"T\\u1EA1o m\\u1EDBi\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",className:\"bg-danger my-2 font-weight-bold ml-3\",onClick:function onClick(){return setCreate(false);},children:\"\\u0110\\xF3ng\"})]})]}),/*#__PURE__*/_jsxs(Table,{style:{minWidth:\"600px\"},children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{width:\"120px\",align:\"center\",size:\"small\",children:\"M\\u1EE5c ti\\xEAu\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",size:\"small\",children:\"M\\xF4 t\\u1EA3\"}),/*#__PURE__*/_jsx(TableCell,{width:\"150px\",align:\"center\",size:\"small\",children:\"Chu\\u1EA9n \\u0111\\u1EA7u ra CT\\u0110T\"})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[create&&/*#__PURE__*/_jsx(CreateForm,{id:createID,desc:createDesc,outcome:createOutcome,setDesc:setCreateDesc,setOutcome:setCreateOutcome}),goals.loading?/*#__PURE__*/_jsx(LoadingRows,{col:3}):goals.error?/*#__PURE__*/_jsx(ErrorRow,{refresh:fetch}):goals.data&&goals.data.length!==0?goals.data.map(function(row){return/*#__PURE__*/_jsx(Row,{row:row});}):/*#__PURE__*/_jsx(EmptyRow,{error:\"Ch\\u01B0a c\\xF3 m\\u1EE5c ti\\xEAu\",subError:/*#__PURE__*/_jsxs(_Fragment,{children:[\"Vui l\\xF2ng\\xA0\",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setCreate(true);},style:{cursor:\"pointer\"},class:\"btn-link\",children:\"t\\u1EA1o m\\u1EDBi!\"})]})})]})]})]})]});};export default CourseGoal;","map":{"version":3,"sources":["E:/Hoc Tap/Do an CNTT/frontend/src/components/AdminApp/CoursePage/courseGoal.js"],"names":["Button","Input","Paper","Snackbar","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Tooltip","Alert","AlertTitle","useEffect","useState","AiOutlinePlus","IoMdRefresh","useDispatch","useSelector","createCourseGoal","fetchGoal","EmptyRow","ErrorRow","LoadingRows","Row","row","muctieu","mota","cdr_ctdt","CreateForm","id","desc","setDesc","outcome","setOutcome","e","target","value","CourseGoal","mamh","initialState","loading","response","status","message","create","setCreate","createID","setCreateID","createDesc","setCreateDesc","createOutcome","setCreateOutcome","creating","setCreating","goals","state","course","goal","dispatch","fetch","handleToggleCreate","data","length","handleSubmitCreate","then","catch","err","error","minWidth","map","cursor"],"mappings":"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","sourcesContent":["import { Button, Input, Paper, Snackbar, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Tooltip } from \"@material-ui/core\"\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { AiOutlinePlus } from \"react-icons/ai\"\r\nimport { IoMdRefresh } from \"react-icons/io\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { createCourseGoal } from \"../../../services\"\r\nimport { fetchGoal } from \"../../../store/actions/courseGoal.action\"\r\nimport { EmptyRow, ErrorRow, LoadingRows } from \"../SituationRow\"\r\n\r\nconst Row = ({ row }) => (\r\n    <TableRow>\r\n        <TableCell align=\"center\">\r\n            {row.muctieu}\r\n        </TableCell>\r\n        <TableCell>\r\n            {row.mota}\r\n        </TableCell>\r\n        <TableCell align=\"center\">\r\n            {row.cdr_ctdt}\r\n        </TableCell>\r\n    </TableRow>\r\n)\r\n\r\nconst CreateForm = ({ id, desc, setDesc, outcome, setOutcome }) => (\r\n    <TableRow className=\"font-italic\">\r\n        <TableCell align=\"center\" className=\"font-weight-bold\">\r\n            <AiOutlinePlus size=\"25px\" />\r\n            &nbsp;{id}\r\n        </TableCell>\r\n        <TableCell>\r\n            <Input\r\n                className=\"bg-light rounded p-2\"\r\n                rowsMax={6} fullWidth multiline\r\n                value={desc}\r\n                onChange={e => setDesc(e.target.value)}\r\n            />\r\n        </TableCell>\r\n        <TableCell>\r\n            <Input\r\n                className=\"bg-light rounded\" fullWidth\r\n                value={outcome}\r\n                onChange={e => setOutcome(e.target.value)}\r\n            />\r\n        </TableCell>\r\n    </TableRow>\r\n)\r\n\r\nconst CourseGoal = ({ mamh }) => {\r\n    const initialState = {\r\n        loading: false,\r\n        response: {\r\n            status: \"\",\r\n            message: \"\"\r\n        }\r\n    }\r\n\r\n    const [create, setCreate] = useState(false)\r\n    const [createID, setCreateID] = useState('')\r\n    const [createDesc, setCreateDesc] = useState('')\r\n    const [createOutcome, setCreateOutcome] = useState('')\r\n    const [creating, setCreating] = useState(initialState)\r\n\r\n    const goals = useSelector(state => state.course[mamh].goal)\r\n    const dispatch = useDispatch()\r\n\r\n    const fetch = () => {\r\n        dispatch(fetchGoal(mamh))\r\n    }\r\n\r\n    const handleToggleCreate = () => {\r\n        setCreateID(`G${goals.data.length + 1}`)\r\n        setCreateDesc('')\r\n        setCreateOutcome('')\r\n        setCreate(true)\r\n    }\r\n\r\n    const handleSubmitCreate = () => {\r\n        setCreating({ ...creating, loading: true })\r\n        createCourseGoal(mamh, {\r\n            muctieu: createID,\r\n            mota: createDesc,\r\n            cdr_ctdt: createOutcome\r\n        }).then(() => {\r\n            fetch()\r\n            setCreate(false)\r\n            setCreating({\r\n                loading: false,\r\n                response: {\r\n                    status: \"success\",\r\n                    message: \"Tạo mục tiêu thành công!\"\r\n                }\r\n            })\r\n        })\r\n            .catch(err => {\r\n                setCreating({\r\n                    loading: false,\r\n                    response: {\r\n                        status: \"error\",\r\n                        message: !err.response ? \"Lỗi máy chủ\" :\r\n                            err.response.data.error\r\n                    }\r\n                })\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!goals.data)\r\n            dispatch(fetchGoal(mamh))\r\n    }, [dispatch, mamh, goals.data])\r\n\r\n    return <>\r\n        <Snackbar\r\n            open={creating.response.status}\r\n            onClose={() => setCreating(initialState)}\r\n        >\r\n            <Alert\r\n                onClose={() => setCreating(initialState)}\r\n                severity={creating.response.status}\r\n                className=\"mx-3 mb-3\"\r\n                style={{ minWidth: \"250px\" }}\r\n            >\r\n                <AlertTitle className=\"text-capitalize font-weight-bold\">\r\n                    {creating.response.status}\r\n                </AlertTitle>\r\n                {creating.response.message}\r\n            </Alert>\r\n        </Snackbar>\r\n        <TableContainer className=\"p-2\" component={Paper}>\r\n            <div\r\n                style={{ minWidth: \"600px\" }}\r\n                className=\"d-flex pl-2 pb-2 align-items-center\"\r\n            >\r\n                <Tooltip title=\"Tải lại\">\r\n                    <Button onClick={fetch} className=\"p-0 mx-2\">\r\n                        <IoMdRefresh size=\"25px\" />\r\n                    </Button>\r\n                </Tooltip>\r\n                {!create\r\n                    ? <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className=\"light-blue-bgcolor my-2 font-weight-bold\"\r\n                        onClick={handleToggleCreate}\r\n                    >\r\n                        Tạo mục tiêu\r\n                </Button>\r\n                    : <div>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className=\"light-blue-bgcolor my-2 font-weight-bold\"\r\n                            onClick={handleSubmitCreate}\r\n                        >\r\n                            Tạo mới\r\n                    </Button>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className=\"bg-danger my-2 font-weight-bold ml-3\"\r\n                            onClick={() => setCreate(false)}\r\n                        >\r\n                            Đóng\r\n                    </Button>\r\n                    </div>}\r\n            </div>\r\n            <Table style={{ minWidth: \"600px\" }}>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell width=\"120px\" align=\"center\" size=\"small\">\r\n                            Mục tiêu\r\n                    </TableCell>\r\n                        <TableCell align=\"center\" size=\"small\">\r\n                            Mô tả\r\n                    </TableCell>\r\n                        <TableCell width=\"150px\" align=\"center\" size=\"small\">\r\n                            Chuẩn đầu ra CTĐT\r\n                    </TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {/* Tao muc tieu */}\r\n                    {create && <CreateForm\r\n                        id={createID}\r\n                        desc={createDesc}\r\n                        outcome={createOutcome}\r\n                        setDesc={setCreateDesc}\r\n                        setOutcome={setCreateOutcome}\r\n                    />}\r\n                    {\r\n                        goals.loading\r\n                            ? <LoadingRows col={3} />\r\n                            : goals.error\r\n                                ? <ErrorRow refresh={fetch} />\r\n                                : goals.data && goals.data.length !== 0\r\n                                    ? goals.data.map(row => (\r\n                                        <Row row={row} />\r\n                                    ))\r\n                                    : <EmptyRow\r\n                                        error=\"Chưa có mục tiêu\"\r\n                                        subError={(<>\r\n                                            Vui lòng&nbsp;\r\n                                        <span onClick={() => setCreate(true)} style={{ cursor: \"pointer\" }} class=\"btn-link\">\r\n                                                tạo mới!\r\n                                        </span>\r\n                                        </>)}\r\n                                    />\r\n                    }\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    </>\r\n}\r\n\r\nexport default CourseGoal"]},"metadata":{},"sourceType":"module"}